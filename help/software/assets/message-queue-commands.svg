<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 217.7 595.3 608.1" enable-background="new 0 217.7 595.3 608.1" xml:space="preserve">
<g id="Background">
	<rect x="0.7" y="260.4" fill="#E6E7E8" width="594.8" height="254.9"/>
	<text transform="matrix(1 0 0 1 9.7944 276.9086)" font-family="'Helvetica-Light'" font-size="10.9996">Setup </text>
	<text transform="matrix(1 0 0 1 9.7944 290.1083)" font-family="'Helvetica-Light'" font-size="10.9996">phase</text>
	<text transform="matrix(1 0 0 1 9.7944 535.9874)" font-family="'Helvetica-Light'" font-size="10.9996">Send command</text>
	<text transform="matrix(1 0 0 1 9.7944 549.1866)" font-family="'Helvetica-Light'" font-size="10.9996">phase</text>
</g>
<g id="Layer_1">
	<rect x="9.8" y="269" fill="none" width="50.8" height="44.6"/>
	<g>
		<g>
			<line fill="none" stroke="#333333" stroke-miterlimit="10" x1="137.4" y1="299.2" x2="310.3" y2="299.2"/>
			<g>
				<polygon fill="#333333" points="308.3,302.1 319.2,299.2 308.3,296.3 				"/>
			</g>
		</g>
	</g>
	<g>
		<g>
			<line fill="none" stroke="#333333" stroke-miterlimit="10" x1="329.4" y1="335.4" x2="520.4" y2="335.4"/>
			<g>
				<polygon fill="#333333" points="331.4,338.3 320.6,335.4 331.4,332.5 				"/>
			</g>
		</g>
	</g>
	<g>
		<g>
			<line fill="none" stroke="#333333" stroke-miterlimit="10" x1="320.6" y1="349.2" x2="511.5" y2="349.2"/>
			<g>
				<polygon fill="#333333" points="509.5,352.1 520.4,349.2 509.5,346.3 				"/>
			</g>
		</g>
	</g>
	<g>
		<g>
			<line fill="none" stroke="#333333" stroke-miterlimit="10" x1="138.1" y1="411" x2="310.3" y2="411"/>
			<g>
				<polygon fill="#333333" points="308.4,414 319.2,411 308.4,408.1 				"/>
			</g>
		</g>
	</g>
	<g>
		<g>
			<line fill="none" stroke="#333333" stroke-miterlimit="10" x1="146.9" y1="452.7" x2="319.2" y2="452.7"/>
			<g>
				<polygon fill="#333333" points="148.9,455.6 138.1,452.7 148.9,449.8 				"/>
			</g>
		</g>
	</g>
	<rect x="328.1" y="282.6" fill="none" width="201.8" height="49.2"/>
	<text transform="matrix(1 0 0 1 328.0938 289.7618)"><tspan x="0" y="0" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Connect to topic exchange </tspan><tspan x="124" y="0" fill="#333333" font-family="'Consolas'" font-size="9.9997">radiodan</tspan><tspan x="0" y="12" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Subscribe to topic:</tspan><tspan x="0" y="24" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">  </tspan><tspan x="5.6" y="24" fill="#333333" font-family="'Consolas'" font-size="9.9997">command.&lt;type&gt;.&lt;id&gt;</tspan><tspan x="0" y="36" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">e.g. </tspan><tspan x="20" y="36" fill="#333333" font-family="'Consolas'" font-size="9.9997">command.radio.main</tspan></text>
	<g>
		<g>
			<line fill="none" stroke="#333333" stroke-miterlimit="10" x1="320.6" y1="620.4" x2="511.5" y2="620.4"/>
			<g>
				<polygon fill="#333333" points="509.5,623.4 520.4,620.4 509.5,617.5 				"/>
			</g>
		</g>
	</g>
	<g>
		<g>
			<line fill="none" stroke="#333333" stroke-miterlimit="10" x1="329.4" y1="643.6" x2="520.4" y2="643.6"/>
			<g>
				<polygon fill="#333333" points="331.4,646.5 320.6,643.6 331.4,640.7 				"/>
			</g>
		</g>
	</g>
	<rect x="333.9" y="629.4" fill="none" width="162.9" height="10.6"/>
	<text transform="matrix(1 0 0 1 333.9326 636.5564)" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Ack message</text>
	<g>
		<g>
			<line fill="none" stroke="#333333" stroke-miterlimit="10" x1="329.4" y1="721.9" x2="520.4" y2="721.9"/>
			<g>
				<polygon fill="#333333" points="331.4,724.9 320.6,721.9 331.4,719 				"/>
			</g>
		</g>
	</g>
	<rect x="333.9" y="656.4" fill="none" width="183" height="63.3"/>
	<text transform="matrix(1 0 0 1 333.9326 663.5822)"><tspan x="0" y="0" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Send reply message to </tspan><tspan x="106.1" y="0" fill="#333333" font-family="'Consolas'" font-size="9.9997">replyTo </tspan><tspan x="150.1" y="0" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">queue </tspan><tspan x="0" y="12" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">including (*required):</tspan><tspan x="0" y="24" fill="#333333" font-family="'Consolas'" font-size="9.9997">* correlationId: &lt;from command&gt;</tspan><tspan x="0" y="36" fill="#333333" font-family="'Consolas'" font-size="9.9997">* error: false | &lt;error string&gt;</tspan><tspan x="0" y="48" fill="#333333" font-family="'Consolas'" font-size="9.9997">  response: [&lt;object&gt;]</tspan></text>
	<rect x="144.2" y="274.6" fill="none" width="166.1" height="27.5"/>
	<text transform="matrix(1 0 0 1 144.2145 281.8436)"><tspan x="0" y="0" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Connect to topic exchange </tspan><tspan x="0" y="12" fill="#333333" font-family="'Consolas'" font-size="9.9997">radiodan</tspan></text>
	<rect x="67.4" y="452.6" fill="none" width="54" height="62.6"/>
	<text transform="matrix(1 0 0 1 67.437 459.8036)"><tspan x="0" y="0" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Set-up </tspan><tspan x="0" y="12" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">listener for </tspan><tspan x="0" y="24" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">replies to </tspan><tspan x="0" y="36" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">command</tspan></text>
	<rect x="144.2" y="373.2" fill="none" width="166.1" height="35"/>
	<text transform="matrix(1 0 0 1 144.2145 380.3961)"><tspan x="0" y="0" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Create a “command-reply” queue.</tspan><tspan x="0" y="12" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Disposable, non-durable, </tspan><tspan x="0" y="24" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">auto-deleted</tspan></text>
	<g>
		<g>
			<line fill="none" stroke="#333333" stroke-miterlimit="10" x1="137.4" y1="620.4" x2="309.7" y2="620.4"/>
			<g>
				<polygon fill="#333333" points="307.7,623.4 318.6,620.4 307.7,617.5 				"/>
			</g>
		</g>
	</g>
	<rect x="143.6" y="522.8" fill="none" width="166.1" height="92.4"/>
	<text transform="matrix(1 0 0 1 143.5902 529.9539)"><tspan x="0" y="0" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Send command message</tspan><tspan x="0" y="12" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Topic key:</tspan><tspan x="0" y="24" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">  </tspan><tspan x="5.6" y="24" fill="#333333" font-family="'Consolas'" font-size="9.9997">command.&lt;type&gt;.&lt;id&gt;</tspan><tspan x="0" y="36" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Payload:</tspan><tspan x="0" y="48" fill="#333333" font-family="'Consolas'" font-size="9.9997">  Stringified JSON</tspan><tspan x="0" y="60" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Metadata:</tspan><tspan x="0" y="72" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">  </tspan><tspan x="5.6" y="72" fill="#333333" font-family="'Consolas'" font-size="9.9997">replyTo: &lt;queue name&gt; </tspan><tspan x="0" y="84" fill="#333333" font-family="'Consolas'" font-size="9.9997"> correlationId: &lt;UUID&gt;</tspan></text>
	<g>
		<g>
			<line fill="none" stroke="#333333" stroke-miterlimit="10" x1="146.3" y1="731.7" x2="318.6" y2="731.7"/>
			<g>
				<polygon fill="#333333" points="148.3,734.6 137.4,731.7 148.3,728.8 				"/>
			</g>
		</g>
	</g>
	<rect x="143.6" y="705.9" fill="none" width="166.1" height="20.6"/>
	<text transform="matrix(1 0 0 1 143.5902 713.0723)"><tspan x="0" y="0" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Reply message on command-reply </tspan><tspan x="0" y="12" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">queue</tspan></text>
	<rect x="541.1" y="351.3" fill="none" width="50.2" height="28.2"/>
	<text transform="matrix(1 0 0 1 541.1251 358.5318)"><tspan x="0" y="0" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Listen for </tspan><tspan x="0" y="12" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">commands</tspan></text>
	<g>
		<g>
			<path fill="none" stroke="#231F20" stroke-miterlimit="10" d="M520.4,349.2c8.8,0,15.9,7.1,15.9,15.9c0,5.7-2.9,10.6-7.4,13.4"/>
			<g>
				<polygon fill="#231F20" points="529.8,374.9 520.4,381 531.6,380.4 				"/>
			</g>
		</g>
	</g>
	<rect x="541.1" y="619.6" fill="none" width="50.2" height="64.7"/>
	<text transform="matrix(1 0 0 1 541.1261 626.8054)"><tspan x="0" y="0" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Process </tspan><tspan x="0" y="12" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">command </tspan><tspan x="0" y="24" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">using </tspan><tspan x="0" y="36" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">JSON </tspan><tspan x="0" y="48" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">payload</tspan></text>
	<g>
		<g>
			<path fill="none" stroke="#231F20" stroke-miterlimit="10" d="M520.4,620.4c8.8,0,15.9,22.8,15.9,50.9c0,20-3.6,37.2-8.8,45.6"/>
			<g>
				<polygon fill="#231F20" points="526.9,713.2 520.4,722.2 530.6,717.7 				"/>
			</g>
		</g>
	</g>
	<g>
		<g>
			<path fill="none" stroke="#231F20" stroke-miterlimit="10" d="M128.9,481.8c-4.4-2.8-7.4-7.8-7.4-13.4c0-8.8,7.1-15.9,15.9-15.9"
				/>
			<g>
				<polygon fill="#231F20" points="128,478.2 137.4,484.3 126.2,483.7 				"/>
			</g>
		</g>
	</g>
	<rect x="67.4" y="731.8" fill="none" width="54" height="62.6"/>
	<text transform="matrix(1 0 0 1 67.437 739.0337)"><tspan x="0" y="0" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Process </tspan><tspan x="0" y="12" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">command </tspan><tspan x="0" y="24" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">response</tspan></text>
	<g>
		<g>
			<path fill="none" stroke="#231F20" stroke-miterlimit="10" d="M128.9,761c-4.4-2.8-7.4-7.8-7.4-13.4c0-8.8,7.1-15.9,15.9-15.9"/>
			<g>
				<polygon fill="#231F20" points="128,757.4 137.4,763.5 126.2,762.9 				"/>
			</g>
		</g>
	</g>
	<text transform="matrix(1 0 0 1 143.9978 433.5898)"><tspan x="0" y="0" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">Returns auto-generated queue name</tspan><tspan x="0" y="12" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997"> “</tspan><tspan x="6.7" y="12" fill="#333333" font-family="'Consolas'" font-size="9.9997">amqp.xxxxx</tspan><tspan x="61.6" y="12" fill="#333333" font-family="'Helvetica-Light'" font-size="9.9997">”</tspan></text>
</g>
<g id="Actors">
	<rect x="282.5" y="227.8" fill="#333333" width="74.2" height="25.7"/>
	<rect x="470.6" y="227.8" fill="#1B8BCC" width="100.8" height="25.7"/>
	<rect x="93" y="227.8" fill="#C75327" width="88.8" height="25.7"/>
	<g>
		<line fill="none" stroke="#C75327" stroke-miterlimit="10" x1="137.4" y1="253.5" x2="137.4" y2="806.5"/>
		<rect x="93" y="236.2" fill="none" width="88.8" height="30.4"/>
		<text transform="matrix(1 0 0 1 101.907 244.1151)" fill="#FFFFFF" font-family="'Helvetica-Light'" font-size="10.9996">Prototype App</text>
	</g>
	<g>
		<line fill="none" stroke="#333333" stroke-miterlimit="10" x1="320.4" y1="253.5" x2="320.4" y2="806.5"/>
		<rect x="293" y="236.2" fill="none" width="54.9" height="30.4"/>
		<text transform="matrix(1 0 0 1 293.8217 244.1151)" fill="#FFFFFF" font-family="'Helvetica-Light'" font-size="10.9996">Rabbit MQ</text>
	</g>
	<g>
		<line fill="none" stroke="#1B8BCC" stroke-miterlimit="10" x1="521" y1="253.5" x2="521" y2="806.5"/>
		<rect x="474" y="236.2" fill="none" width="72.3" height="30.4"/>
		<text transform="matrix(1 0 0 1 482.6671 244.1151)" fill="#FFFFFF" font-family="'Helvetica-Light'" font-size="10.9996">Media Controller</text>
	</g>
</g>
</svg>
